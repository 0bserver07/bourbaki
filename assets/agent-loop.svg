<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 400">
  <defs>
    <linearGradient id="bg" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0d1117;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#161b22;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="accent-blue" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#4a6a8a;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#6c8ebf;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="accent-purple" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#7a6c9a;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#b8a9c9;stop-opacity:1" />
    </linearGradient>
    <marker id="arrow" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#6c8ebf" opacity="0.7"/>
    </marker>
    <marker id="arrow-purple" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#b8a9c9" opacity="0.7"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="800" height="400" fill="url(#bg)" rx="8"/>

  <!-- ═══════════ TUI SIDE (left) ═══════════ -->
  <rect x="30" y="30" width="180" height="340" rx="8" fill="#161b22" stroke="#30363d" stroke-width="1.5"/>
  <text x="120" y="56" font-family="-apple-system, sans-serif" font-size="13" fill="#8b949e" text-anchor="middle" font-weight="600">TUI</text>
  <text x="120" y="72" font-family="-apple-system, sans-serif" font-size="10" fill="#484f58" text-anchor="middle">React + Ink</text>

  <!-- User input box -->
  <rect x="50" y="90" width="140" height="36" rx="6" fill="#21262d" stroke="#6c8ebf" stroke-width="1" opacity="0.8"/>
  <text x="62" y="112" font-family="'SF Mono', monospace" font-size="11" fill="#6c8ebf">❯</text>
  <text x="78" y="112" font-family="'SF Mono', monospace" font-size="11" fill="#e6edf3">prove √2 is irr...</text>

  <!-- Event display -->
  <rect x="50" y="140" width="140" height="90" rx="6" fill="#21262d" stroke="#30363d" stroke-width="1"/>
  <text x="60" y="158" font-family="'SF Mono', monospace" font-size="9" fill="#b8a9c9">⏺ Thinking...</text>
  <text x="60" y="174" font-family="'SF Mono', monospace" font-size="9" fill="#6c8ebf">⏺ Symbolic Compute</text>
  <text x="66" y="188" font-family="'SF Mono', monospace" font-size="9" fill="#484f58">⎿ Computed result</text>
  <text x="60" y="204" font-family="'SF Mono', monospace" font-size="9" fill="#6c8ebf">⏺ Lean Prover</text>
  <text x="66" y="218" font-family="'SF Mono', monospace" font-size="9" fill="#3fb950">⎿ ✓ Verified</text>

  <!-- Answer display -->
  <rect x="50" y="244" width="140" height="50" rx="6" fill="#21262d" stroke="#30363d" stroke-width="1"/>
  <text x="60" y="263" font-family="'SF Mono', monospace" font-size="9" fill="#e6edf3">Proof: Assume √2</text>
  <text x="60" y="277" font-family="'SF Mono', monospace" font-size="9" fill="#e6edf3">= p/q, then...</text>
  <text x="60" y="291" font-family="'SF Mono', monospace" font-size="9" fill="#3fb950">∎ QED</text>

  <!-- SSE label on arrow -->
  <line x1="210" y1="165" x2="260" y2="165" stroke="#6c8ebf" stroke-width="1.5" marker-end="url(#arrow)" opacity="0.6"/>
  <line x1="260" y1="185" x2="210" y2="185" stroke="#b8a9c9" stroke-width="1.5" marker-end="url(#arrow-purple)" opacity="0.6"/>
  <text x="235" y="155" font-family="'SF Mono', monospace" font-size="8" fill="#484f58" text-anchor="middle">POST</text>
  <text x="235" y="200" font-family="'SF Mono', monospace" font-size="8" fill="#484f58" text-anchor="middle">SSE</text>

  <!-- ═══════════ BACKEND (center) ═══════════ -->
  <rect x="260" y="30" width="230" height="340" rx="8" fill="#161b22" stroke="#30363d" stroke-width="1.5"/>
  <text x="375" y="56" font-family="-apple-system, sans-serif" font-size="13" fill="#8b949e" text-anchor="middle" font-weight="600">Backend</text>
  <text x="375" y="72" font-family="-apple-system, sans-serif" font-size="10" fill="#484f58" text-anchor="middle">FastAPI + Pydantic AI</text>

  <!-- Agent loop -->
  <!-- Step 1: Receive query -->
  <rect x="285" y="90" width="180" height="30" rx="6" fill="#21262d" stroke="#6c8ebf" stroke-width="1"/>
  <text x="375" y="109" font-family="'SF Mono', monospace" font-size="10" fill="#6c8ebf" text-anchor="middle">Receive query</text>

  <!-- Arrow down -->
  <line x1="375" y1="120" x2="375" y2="135" stroke="#6c8ebf" stroke-width="1.2" marker-end="url(#arrow)" opacity="0.5"/>

  <!-- Step 2: LLM reasons -->
  <rect x="285" y="138" width="180" height="30" rx="6" fill="#21262d" stroke="#b8a9c9" stroke-width="1"/>
  <text x="375" y="157" font-family="'SF Mono', monospace" font-size="10" fill="#b8a9c9" text-anchor="middle">LLM reasons + plans</text>

  <!-- Arrow down -->
  <line x1="375" y1="168" x2="375" y2="183" stroke="#6c8ebf" stroke-width="1.2" marker-end="url(#arrow)" opacity="0.5"/>

  <!-- Step 3: Tool calls -->
  <rect x="285" y="186" width="180" height="30" rx="6" fill="#21262d" stroke="#6c8ebf" stroke-width="1"/>
  <text x="375" y="205" font-family="'SF Mono', monospace" font-size="10" fill="#6c8ebf" text-anchor="middle">Execute tools</text>

  <!-- Arrow to tools -->
  <line x1="465" y1="201" x2="520" y2="201" stroke="#6c8ebf" stroke-width="1.5" marker-end="url(#arrow)" opacity="0.6"/>

  <!-- Loop arrow back from tools to LLM -->
  <path d="M 520 215 L 465 215 L 465 230 L 320 230 L 320 155 L 285 155" stroke="#b8a9c9" stroke-width="1.2" fill="none" marker-end="url(#arrow-purple)" opacity="0.4" stroke-dasharray="4,3"/>
  <text x="390" y="243" font-family="'SF Mono', monospace" font-size="8" fill="#484f58" text-anchor="middle">iterate if needed</text>

  <!-- Arrow down -->
  <line x1="375" y1="250" x2="375" y2="265" stroke="#6c8ebf" stroke-width="1.2" marker-end="url(#arrow)" opacity="0.5"/>

  <!-- Step 4: Scratchpad check -->
  <rect x="285" y="268" width="180" height="30" rx="6" fill="#21262d" stroke="#30363d" stroke-width="1"/>
  <text x="375" y="287" font-family="'SF Mono', monospace" font-size="10" fill="#8b949e" text-anchor="middle">Scratchpad + limits</text>

  <!-- Arrow down -->
  <line x1="375" y1="298" x2="375" y2="313" stroke="#6c8ebf" stroke-width="1.2" marker-end="url(#arrow)" opacity="0.5"/>

  <!-- Step 5: Stream answer -->
  <rect x="285" y="316" width="180" height="30" rx="6" fill="#21262d" stroke="#3fb950" stroke-width="1"/>
  <text x="375" y="335" font-family="'SF Mono', monospace" font-size="10" fill="#3fb950" text-anchor="middle">Stream answer</text>

  <!-- ═══════════ TOOLS (right) ═══════════ -->
  <rect x="530" y="30" width="240" height="340" rx="8" fill="#161b22" stroke="#30363d" stroke-width="1.5"/>
  <text x="650" y="56" font-family="-apple-system, sans-serif" font-size="13" fill="#8b949e" text-anchor="middle" font-weight="600">Tools</text>
  <text x="650" y="72" font-family="-apple-system, sans-serif" font-size="10" fill="#484f58" text-anchor="middle">Native Python</text>

  <!-- Tool boxes -->
  <rect x="550" y="90" width="100" height="42" rx="6" fill="#21262d" stroke="#6c8ebf" stroke-width="1"/>
  <text x="600" y="108" font-family="'SF Mono', monospace" font-size="10" fill="#6c8ebf" text-anchor="middle">SymPy</text>
  <text x="600" y="123" font-family="'SF Mono', monospace" font-size="8" fill="#484f58" text-anchor="middle">30+ operations</text>

  <rect x="660" y="90" width="100" height="42" rx="6" fill="#21262d" stroke="#6c8ebf" stroke-width="1"/>
  <text x="710" y="108" font-family="'SF Mono', monospace" font-size="10" fill="#6c8ebf" text-anchor="middle">Lean 4</text>
  <text x="710" y="123" font-family="'SF Mono', monospace" font-size="8" fill="#484f58" text-anchor="middle">formal proofs</text>

  <rect x="550" y="142" width="100" height="42" rx="6" fill="#21262d" stroke="#6c8ebf" stroke-width="1"/>
  <text x="600" y="160" font-family="'SF Mono', monospace" font-size="10" fill="#6c8ebf" text-anchor="middle">OEIS</text>
  <text x="600" y="175" font-family="'SF Mono', monospace" font-size="8" fill="#484f58" text-anchor="middle">sequences</text>

  <rect x="660" y="142" width="100" height="42" rx="6" fill="#21262d" stroke="#6c8ebf" stroke-width="1"/>
  <text x="710" y="160" font-family="'SF Mono', monospace" font-size="10" fill="#6c8ebf" text-anchor="middle">arXiv</text>
  <text x="710" y="175" font-family="'SF Mono', monospace" font-size="8" fill="#484f58" text-anchor="middle">papers</text>

  <rect x="550" y="194" width="210" height="42" rx="6" fill="#21262d" stroke="#b8a9c9" stroke-width="1"/>
  <text x="655" y="212" font-family="'SF Mono', monospace" font-size="10" fill="#b8a9c9" text-anchor="middle">Skills</text>
  <text x="655" y="227" font-family="'SF Mono', monospace" font-size="8" fill="#484f58" text-anchor="middle">21 proof techniques from SKILL.md</text>

  <!-- Skills breakdown -->
  <rect x="550" y="248" width="210" height="110" rx="6" fill="#0d1117" stroke="#30363d" stroke-width="0.8"/>
  <text x="560" y="268" font-family="'SF Mono', monospace" font-size="9" fill="#484f58">Basic</text>
  <text x="615" y="268" font-family="'SF Mono', monospace" font-size="9" fill="#6c8ebf">induction, contradiction...</text>
  <text x="560" y="286" font-family="'SF Mono', monospace" font-size="9" fill="#484f58">Analysis</text>
  <text x="615" y="286" font-family="'SF Mono', monospace" font-size="9" fill="#6c8ebf">ε-δ, convergence...</text>
  <text x="560" y="304" font-family="'SF Mono', monospace" font-size="9" fill="#484f58">Algebra</text>
  <text x="615" y="304" font-family="'SF Mono', monospace" font-size="9" fill="#6c8ebf">groups, rings, polys...</text>
  <text x="560" y="322" font-family="'SF Mono', monospace" font-size="9" fill="#484f58">Geometry</text>
  <text x="615" y="322" font-family="'SF Mono', monospace" font-size="9" fill="#6c8ebf">coordinate, synthetic...</text>
  <text x="560" y="340" font-family="'SF Mono', monospace" font-size="9" fill="#484f58">Advanced</text>
  <text x="615" y="340" font-family="'SF Mono', monospace" font-size="9" fill="#6c8ebf">extremal, probabilistic...</text>
</svg>
